#! /usr/bin/env python

import figure

figure.xxx = [1, 2, 3, 4, 5, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]

if __name__ == "__main__":

    cpu = [
            [0.999231950845, 0.999750374438, 0.999500748877, 1.00000006234, 0.999600599101, 0.999909255898, 0.999773139746, 0.999697512796, 0.999625641256, 0.999725547511, 0.999538078935, 0.998139723403, 0.998566118092, 0.995912064906, 0.99495934243], # occ
            [0.999615975422, 0.999750374438, 0.998032985323, 0.998070812528, 0.996821978781, 0.997794821781, 0.998739703391, 0.996915228602, 0.987529751922, 0.988846106087, 0.987168322715, 0.987743843096, 0.996711622267, 0.998133758, 0.996874627636], # rococo
            #[__2pl.cpu__], # 2pl timeout
            #[__2pl_wait_die.cpu__], # 2pl wait die
            [0.999615827891, 0.99975024975, 1.0, 1.00000005154, 0.999818429414, 0.999708835946, 0.998522939642, 0.993643674541, 0.988916855225, 0.986795694921, 0.984514828378, 0.981581225285, 0.97598192236, 0.955826467557, 0.902084618689] # 2pl wound wait
            ]

    flush_cnt = [
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0], # occ
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0], # rococo
            #[__2pl.flush_cnt__], # 2pl timeout
            #[__2pl_wait_die.flush_cnt__], # 2pl wait die
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0] # 2pl wound wait
            ]

    flush_sz = [
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0], # occ
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0], # rococo
            #[__2pl.flush_sz__], # 2pl timeout
            #[__2pl_wait_die.flush_sz__], # 2pl wait die
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0] # 2pl wound wait
            ]

    throughput_val = [
            [423, 784, 1039, 1270, 1447, 1804, 1201, 619, 381, 275, 228, 170, 159, 134, 110], # occ
            [702, 1381, 1999, 2620, 3146, 5830, 10613, 15055, 18817, 21948, 25559, 27750, 29013, 30206, 30888], # rococo
            #[__2pl.tps__], # 2pl timeout
            #[__2pl_wait_die.tps__], # 2pl wait die
            [549, 1039, 1457, 1832, 2141, 3383, 4433, 4947, 5296, 5644, 5833, 5893, 5847, 5689, 5604] # 2pl wound wait
            ]

    commit_rate_val = [
            [10762.0/24308, 16148.0/36712, 21708.0/50482, 26796.0/62990, 30772.0/74712, 39608.0/122282, 26971.0/196553, 14185.0/272655, 8957.0/352156, 6695.0/444925, 4266.0/412809, 3274.0/511336, 4308.0/946863, 3797.0/1258132, 3237.0/1483625],
            [17927.0/17927, 28754.0/28754, 42533.0/42533, 56579.0/56579, 69189.0/69189, 140449.0/140449, 227082.0/227082, 374685.0/374685, 542709.0/542709, 732779.0/732779, 624678.0/624678, 733251.0/733251, 796317.0/796317, 886650.0/886650, 470417.0/470417],
            #[__2pl.commit_rate__],
            #[__2pl_wait_die.commit_rate__],
            [14003.0/17932, 21559.0/28321, 30702.0/41690, 39096.0/54938, 46434.0/68731, 77805.0/141249, 108336.0/309029, 95821.0/367116, 107875.0/508067, 162173.0/889825, 175393.0/1106600, 184647.0/1340587, 141710.0/1181590, 142458.0/1355160, 144311.0/1457731]
            ]

    latency_50_val = [
            [13.7626632807, 15.2912273809, 17.3448374312, 18.7451857029, 20.3457278945, 32.8154230674, 82.0293624318, 189.122903978, 355.567418414, 580.293723274, 755.10716377, 1048.95244701, 1232.10031573, 1527.77394855, 2145.81835907],
            [13.4299580349, 14.0678130006, 14.7033452156, 15.0398977166, 15.5677655234, 16.8121040537, 18.5198482021, 19.8823943508, 21.1353696228, 21.6329647606, 23.0604292668, 23.5948551351, 23.6138597109, 23.0173942401, 22.1235512231],
            #[__2pl.latency_50__],
            #[__2pl_wait_die.latency_50__],
            [13.0162540954, 14.2507444262, 15.4281973691, 16.5442803752, 17.6483518925, 23.0450160683, 42.2795651061, 63.8675508675, 86.7807109325, 107.850095299, 131.27702081, 156.006443749, 184.830051845, 217.920413214, 252.003443846]
            ]

    latency_90_val = [
            [23.3611853462, 26.0741184765, 29.9315938513, 32.8606558879, 36.5432357496, 64.8290641952, 219.345976585, 654.049016059, 1388.74488804, 2481.79163799, 3339.0688006, 4714.31184432, 5368.8006378, 6261.77989354, 7835.91732031],
            [14.9707165169, 15.3956793657, 15.9238252868, 16.2123796082, 16.7717397131, 18.0781077446, 19.897493429, 21.2866630641, 22.5932603647, 23.3713533387, 24.6456179235, 25.3643935083, 25.7053731823, 25.4156622514, 25.4484854897],
            #[__2pl.latency_90__],
            #[__2pl_wait_die.latency_90__],
            [17.5810393052, 19.3277951969, 21.2269693952, 23.0725307062, 25.1942782528, 37.3306363739, 81.6105784208, 130.236634435, 177.403039174, 218.383641917, 261.648641875, 310.927900526, 366.571389989, 434.333082912, 498.07863769]
            ]

    latency_99_val = [
            [30.6215291196, 33.7569774798, 38.7564332248, 42.3492690709, 47.0384901512, 85.0627401869, 320.766353508, 1061.54847402, 2317.47626533, 3959.10738106, 5015.60923481, 6586.66123541, 7270.76947147, 8295.92571929, 10039.2792567],
            [15.417600565, 15.7703055084, 16.2976940745, 16.5472817136, 17.1198984315, 18.4487911896, 20.293600661, 21.6930472335, 23.0507162644, 24.5983918326, 25.2720816341, 26.1395229724, 26.8475503525, 26.8406926279, 27.988176289],
            #[__2pl.latency_99__],
            #[__2pl_wait_die.latency_99__],
            [20.0425387652, 22.137652245, 24.4941663853, 26.8020271588, 29.6916554892, 45.2296265495, 100.224058961, 160.499056046, 217.908744511, 267.859035252, 320.17215693, 380.132955893, 448.442447212, 531.998912399, 609.302381291]
            ]

    latency_999_val = [
            [32.2286521267, 35.434896242, 40.6792871098, 44.3778081872, 49.3344841958, 89.5898059455, 345.843842105, 1167.32848818, 2530.38762522, 4221.67008344, 5259.07526258, 6838.64044805, 7533.46478713, 8563.23958363, 10308.0452153],
            [15.4837253397, 15.8353707113, 16.4841553424, 16.6907883309, 17.3635677026, 18.7584250301, 20.6642430974, 22.0624356055, 23.4736030139, 25.5872056942, 25.7678488751, 26.6662644883, 27.4007962086, 27.3971819366, 28.6183695336],
            #[__2pl.latency_999__],
            #[__2pl_wait_die.latency_999__],
            [20.54396411, 22.711856635, 25.1981256852, 27.6324539216, 30.7433595824, 46.8041569314, 103.769021633, 166.276585533, 225.647515376, 277.135329255, 331.107485397, 393.142693001, 463.6955888, 550.262899462, 630.02020797]
            ]

    n_try_50_val = [
            [1.0, 1.0, 1.0, 1.0, 1.0, 1.15365582711, 1.71887282165, 3.1345177665, 5.26239392586, 8.01971915148, 9.99953117675, 13.8680513134, 18.5032497679, 26.822971549, 37.8541409147],
            [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
            #[__2pl.n_try_50__],
            #[__2pl_wait_die.n_try_50__],
            [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.24217250037, 1.59211020664, 1.95921167288, 2.3282687517, 2.74386517059, 3.17292548986, 3.68976077906, 4.27884709879, 4.68688240593]
            ]

    n_try_90_val = [
            [1.62787816211, 1.66772173674, 1.70793878282, 1.73743572732, 1.79237379938, 2.22832215895, 4.56330078688, 10.6370828764, 20.0847289418, 33.6292116183, 43.7152904402, 62.4470468432, 80.6904823317, 107.668715247, 136.166151734],
            [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
            #[__2pl.n_try_90__],
            #[__2pl_wait_die.n_try_90__],
            [1.11014124742, 1.12559913415, 1.14606782237, 1.16827715569, 1.20011964585, 1.42911001942, 2.22280568604, 2.99758807022, 3.72075561095, 4.36682539139, 5.04785464958, 5.8275565344, 6.71042583053, 7.6908245718, 8.23367903972]
            ]

    n_try_99_val = [
            [2.12821475502, 2.14806705868, 2.20004653327, 2.22934258142, 2.29841780462, 2.90892861697, 6.63102505524, 17.17239906, 33.3726175708, 53.6914604707, 66.0878522377, 87.9049676026, 108.98663227, 142.380686353, 172.834581773],
            [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
            #[__2pl.n_try_99__],
            #[__2pl_wait_die.n_try_99__],
            [1.24202856731, 1.27147073982, 1.31065341844, 1.35083322568, 1.41543213905, 1.73569963389, 2.73221944579, 3.6731251713, 4.52370875314, 5.28085779597, 6.08128934168, 7.0001750547, 8.04402246743, 9.18861543043, 9.78353993574]
            ]

    n_try_999_val = [
            [2.237280253, 2.25224722584, 2.30738725445, 2.33396839628, 2.40867245698, 3.0590123332, 7.13888064133, 18.859915314, 36.4659141708, 57.3488337321, 69.38253931, 91.3458715596, 112.930745991, 147.097020828, 177.574698423],
            [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
            #[__2pl.n_try_999__],
            #[__2pl_wait_die.n_try_999__],
            [1.27330569059, 1.30696011515, 1.34997228652, 1.39530417862, 1.46797594154, 1.80180632213, 2.83447753333, 3.80682162445, 4.68232390249, 5.45457687797, 6.2751045846, 7.22247942666, 8.29436030741, 9.4705336753, 10.073394559]
            ]

    att_latency_50_val = [
            [12.3181726438, 14.0479100307, 15.9565052851, 17.3110535899, 18.7174933973, 26.7791140161, 44.4210875821, 56.600170438, 63.8539183119, 68.2698059425, 71.2201420548, 71.4090228135, 63.0177136828, 55.0142314782, 54.3743111387],
            [13.4319636217, 14.0697189175, 14.7050545214, 15.0415922453, 15.5694453682, 16.8138035922, 18.5216394612, 19.8842768029, 21.1373455258, 21.6350595967, 23.0626290337, 23.5972311307, 23.6165354108, 23.0204744553, 22.1268527079],
            #[__2pl.att_latency_50__],
            #[__2pl_wait_die.att_latency_50__],
            [11.8816438054, 12.8583569543, 13.7985073164, 14.6118431676, 15.3290481947, 18.4393101369, 24.6205977928, 29.1518373934, 32.4267641689, 34.5054496238, 36.2477006591, 37.3475558545, 37.6539301771, 37.423544226, 38.8957273282]
            ]

    att_latency_90_val = [
            [13.8397841796, 15.2855447395, 17.2259124292, 18.585762522, 20.042055423, 28.65930563, 47.4525774257, 60.5171404938, 68.1279241274, 73.0275830649, 75.6485302533, 76.1739659249, 67.3429667134, 59.3186968562, 58.8403867634],
            [14.9727260844, 15.397598914, 15.9255347368, 16.2140786824, 16.7734211508, 18.0798117594, 19.8992862528, 21.2885579616, 22.5952564984, 23.3734793368, 24.6478590963, 25.3668350829, 25.7081222265, 25.4188967802, 25.4530430939],
            #[__2pl.att_latency_90__],
            #[__2pl_wait_die.att_latency_90__],
            [14.6558159235, 15.7890502968, 16.9431475665, 17.9511794643, 18.943775788, 23.3989824607, 32.9081207298, 39.491326062, 43.875709034, 46.4745062493, 48.5213096235, 50.1500482065, 51.4319102096, 53.1249753454, 56.9641682894]
            ]

    att_latency_99_val = [
            [14.3305092162, 15.668382541, 17.5786857462, 18.9556982015, 20.4237743978, 29.2035634545, 48.339834926, 61.6949049269, 69.4986997894, 74.4722429732, 77.1105793389, 77.7458035406, 68.6846808641, 60.6439725554, 60.1559361712],
            [15.419606901, 15.7722255707, 16.2994058593, 16.5489817366, 17.1215806091, 18.4504967185, 20.2953946202, 21.6949489329, 23.0527187682, 24.6005312032, 25.2743702757, 26.1420556034, 26.8504885024, 26.8442456771, 27.9935743592],
            #[__2pl.att_latency_99__],
            #[__2pl_wait_die.att_latency_99__],
            [15.8709039331, 17.1024922668, 18.3732444152, 19.4824001623, 20.5860500136, 25.5296061153, 36.0085989477, 43.0311344469, 47.5645556757, 50.1715539716, 52.1723058071, 53.8452572752, 55.2820736285, 57.408466342, 61.8150585842]
            ]

    att_latency_999_val = [
            [14.4075739675, 15.7274626283, 17.6296082699, 19.0088150374, 20.4774255738, 29.2871484926, 48.4592445052, 61.8588833647, 69.6686964383, 74.6628834861, 77.2921683387, 77.9352951562, 68.8498664121, 60.8278495542, 60.3298296374],
            [15.4857320942, 15.8372914797, 16.4858679409, 16.6924888104, 17.3652506583, 18.7601318133, 20.6660382909, 22.0643384635, 23.4756066291, 25.5893477191, 25.7701386575, 26.6688039755, 27.4037313868, 27.4007321214, 28.6237443236],
            #[__2pl.att_latency_999__],
            #[__2pl_wait_die.att_latency_999__],
            [16.0923069346, 17.331709877, 18.6130349346, 19.7412715957, 20.8748578365, 25.8907971426, 36.499899691, 43.5841042725, 48.1263560339, 50.7232818486, 52.710352506, 54.3834278498, 55.8391934324, 58.0456926641, 62.5269282612]
            ]

    latency_min_val = [
            [7.310546875, 9.19775390625, 10.3635253906, 11.6162109375, 12.0285644531, 17.2028808594, 28.0461425781, 33.7724609375, 44.9958496094, 43.8134765625, 50.8276367188, 44.6779785156, 34.966796875, 33.1462402344, 20.62109375],
            [7.57958984375, 8.35888671875, 1.35986328125, 1.05078125, 1.01293945312, 1.14868164062, 1.1591796875, 1.16015625, 1.08422851562, 1.00244140625, 1.2333984375, 1.17236328125, 1.35668945312, 1.43896484375, 1.30346679688],
            #[__2pl.min_latency__],
            #[__2pl_wait_die.min_latency__],
            [6.90405273438, 8.12646484375, 9.01318359375, 9.9873046875, 10.8266601562, 10.3090820312, 9.77612304688, 5.36474609375, 4.1708984375, 3.48876953125, 3.46850585938, 3.48217773438, 2.705078125, 1.56762695312, 1.43432617188]
            ]

    latency_max_val = [
            [442.638183594, 552.000244141, 711.387451172, 589.412109375, 654.244140625, 1326.60400391, 9551.26025391, 28026.8967285, 38138.7404785, 41402.050293, 36100.3898926, 36823.9763184, 38401.2502441, 40648.520752, 41621.7231445],
            [34.4719238281, 37.5649414062, 62.3996582031, 64.4440917969, 77.3984375, 113.536376953, 142.334228516, 146.991455078, 148.226318359, 319.907470703, 155.239746094, 161.148925781, 162.705810547, 160.523925781, 182.061279297],
            #[__2pl.max_latency__],
            #[__2pl_wait_die.max_latency__],
            [137.752685547, 192.577148438, 203.674316406, 233.348144531, 439.065917969, 442.379638672, 1049.79418945, 1703.05688477, 3001.55761719, 3134.36865234, 4567.51953125, 4664.50146484, 4353.10620117, 6433.4543457, 6806.47973633]
            ]

    attempts_val = [
            [24308.0/25.4402096256, 36712.0/20.6075613986, 50482.0/20.8882597156, 62990.0/21.1063548597, 74712.0/21.2671516339, 122282.0/21.9583445646, 196553.0/22.4645665555, 272655.0/22.9232593967, 352156.0/23.4872599042, 444925.0/24.3693488332, 412809.0/18.7135223178, 511336.0/19.2922185696, 946863.0/27.1096820428, 1258132.0/28.374655849, 1483625.0/29.389618743],
            [17927.0/25.5468444965, 28754.0/20.8223450369, 42533.0/21.2752208062, 56579.0/21.5965834364, 69189.0/21.9934916237, 140449.0/24.0903222571, 227082.0/21.3963849291, 374685.0/24.8881585621, 542709.0/28.8417454078, 732779.0/33.3877145751, 624678.0/24.4403914467, 733251.0/26.4238041277, 796317.0/27.4468535615, 886650.0/29.3531876075, 470417.0/15.2300016499],
            #[__2pl.attempts__],
            #[__2pl_wait_die.attempts__],
            [17932.0/25.5028284447, 28321.0/20.7442554365, 41690.0/21.0655989789, 54938.0/21.3392605635, 68731.0/21.6879561049, 141249.0/22.9995924448, 309029.0/24.4392561652, 367116.0/19.3685552133, 508067.0/20.3675124814, 889825.0/28.7338350776, 1106600.0/30.066676692, 1340587.0/31.3351966258, 1181590.0/24.2378831675, 1355160.0/25.043106512, 1457731.0/25.7521535826]
            ]

    graph_size_val = [
            [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
            ]

    n_ask_val = [
            [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
            ]

    scc_val = [
            [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
            ]

    throughput_figname =            "fig/kodiak/scale_40coos_tpcc_mix_10_nlog_ct_tp.pdf"
    tpcc_ct_cpu_figname =           "fig/kodiak/scale_40coos_tpcc_mix_10_nlog_ct_cpu.pdf"

    figure.tpcc_sc_tp(throughput_val, throughput_figname);
    figure.tpcc_sc_cpu(cpu, tpcc_ct_cpu_figname);

#    print("Hello")
