#! /usr/bin/env python

import figure

figure.xxx = [1, 2, 3, 4, 5, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]

if __name__ == "__main__":

    cpu = [
            [0.0982105701207, 0.0461922596754, 0.0565796210958, 0.0722926267281, 0.065313359687, 0.078623259122, 0.108916034828, 0.0761936674659, 0.103799180943, 0.100174906702, 0.0983419556192, 0.0917131492835, 0.106735286875, 0.130225898915, 0.122367091883], # occ
            [0.050353724511, 0.0468066989198, 0.0346902201741, 0.0513632872504, 0.0503685456599, 0.0362887825481, 0.0395079220323, 0.055837043627, 0.0524891272765, 0.0535580184336, 0.0497943229513, 0.061244491783, 0.0559575190132, 0.0628926584913, 0.0672832374409], # rococo
#            [__2pl.cpu__], # 2pl timeout
#            [__2pl_wait_die.cpu__], # 2pl wait die
            [0.0911360799001, 0.0866140657743, 0.0769428083198, 0.0688296611444, 0.042183301101, 0.0493887249997, 0.0742812753587, 0.0488066449929, 0.0426439124818, 0.0235532169443, 0.041407734773, 0.0454267751947, 0.0351796371607, 0.0391832379823, 0.023531751103] # 2pl wound wait
            ]

    flush_cnt = [
            [15.7034482759, 13.9490291262, 13.5196787149, 22.0715976331, 20.4175013179, 30.3077636153, 54.0205617978, 35.2637920582, 59.8731275533, 53.9208080808, 46.2812413191, 45.9982919255, 53.8428910026, 78.4377702774, 67.1137731248], # occ
            [52.9937238494, 42.5064377682, 29.3783505155, 44.3609022556, 37.3036175711, 17.3674496644, 14.1723223014, 28.9763127984, 20.9734939759, 21.5662743585, 15.2801297099, 29.5383920143, 18.7767612077, 28.3822173829, 33.4211013881], # rococo
#            [__2pl.flush_cnt__], # 2pl timeout
#            [__2pl_wait_die.flush_cnt__], # 2pl wait die
            [13.6150121065, 17.8831942789, 19.0956306678, 19.1003963012, 14.9289446186, 17.776802747, 19.1231759657, 11.5182580471, 12.6602664577, -1.0, 9.35728590502, 12.9994350282, 10.8990045856, 10.7542952825, -1.0] # 2pl wound wait
            ]

    flush_sz = [
            [18594.9333333, 12373.9757282, 9785.1124498, 13436.6544379, 11266.4322615, 12423.375898, 16901.7964045, 9152.746893, 14753.2386897, 12747.326811, 10833.4009683, 10579.8043866, 12476.5169145, 18463.8838994, 15907.3503792], # occ
            [3308.18200837, 2639.27360515, 1817.50721649, 2743.93277311, 2309.82299742, 1086.71895973, 901.465996369, 1857.20622869, 1351.01091867, 1393.80780574, 989.452850834, 1917.08704734, 1218.62260585, 1844.967051, 2176.45466465], # rococo
#            [__2pl.flush_sz__], # 2pl timeout
#            [__2pl_wait_die.flush_sz__], # 2pl wait die
            [17773.6489104, 15927.9225268, 13376.6718879, 11465.1321004, 7947.74294671, 7281.01831362, 6318.54291845, 3304.82925345, 3333.8631139, -1.0, 2196.04877932, 3002.33123487, 2473.18437535, 2427.31417443, -1.0] # 2pl wound wait
            ]

    throughput_val = [
            [44, 26, 54, 104, 97, 182, 191, 25, 59, 35, 16, 5, 17, 23, 26], # occ
            [19, 29, 19, 65, 71, 58, 121, 369, 424, 552, 520, 899, 807, 1174, 1431], # rococo
#            [__2pl.tps__], # 2pl timeout
#            [__2pl_wait_die.tps__], # 2pl wait die
            [37, 63, 78, 81, 36, 93, 285, 163, 146, 0, 139, 176, 104, 146, 0] # 2pl wound wait
            ]

    commit_rate_val = [
            [1103.0/1476, 653.0/681, 1362.0/1454, 2624.0/2764, 2445.0/2650, 4646.0/6243, 4925.0/18992, 654.0/23061, 1260.0/30334, 752.0/38264, 341.0/47469, 122.0/57138, 395.0/69016, 524.0/83888, 609.0/90497],
            [471.0/471, 729.0/729, 486.0/486, 1626.0/1626, 1789.0/1789, 1468.0/1468, 3119.0/3119, 9702.0/9702, 9126.0/9126, 11954.0/11954, 11425.0/11425, 20400.0/20400, 18480.0/18480, 27680.0/27680, 34508.0/34508],
#            [__2pl.commit_rate__],
#            [__2pl_wait_die.commit_rate__],
            [928.0/929, 1592.0/1596, 1954.0/1958, 2052.0/2055, 916.0/921, 2373.0/2399, 7403.0/8069, 4259.0/5466, 3840.0/5692, 0.0, 3001.0/5960, 3847.0/8140, 2313.0/5104, 3290.0/8084, 0.0]
            ]

    latency_50_val = [
            [55.5624034072, 93.7300546096, 98.8225864853, 98.3219485399, 125.816494556, 136.337166296, 170.262677761, 1089.15216531, 1064.47755069, 2624.17889989, 8361.2311466, 14375.7064789, 10527.6304393, 7884.22421055, 7868.26122404],
            [132.585951006, 169.474406819, 229.607359584, 182.347788981, 197.92565563, 292.018271298, 234.357711743, 226.175075653, 209.638283272, 191.390474807, 178.726732783, 207.24527181, 182.828040687, 194.742240103, 188.13087702],
#            [__2pl.latency_50__],
#            [__2pl_wait_die.latency_50__],
            [57.4331270415, 79.9525201692, 97.947272372, 103.947461937, 200.14025026, 150.460989581, 151.306159732, 236.818963477, 213.320299403, 99999.9, 554.425343587, 407.933016598, 606.802612938, 824.703457595, 99999.9]
            ]

    latency_90_val = [
            [64.7991237025, 173.416001068, 180.992404735, 143.893094016, 204.007566362, 223.882990657, 457.266704738, 5525.88449408, 3474.85731315, 6989.35172213, 15838.1933761, 20071.7243832, 18410.4287144, 15965.8919965, 14751.2230599],
            [160.247549359, 229.46128808, 426.449034388, 232.622356673, 273.985412825, 779.447452473, 595.464398609, 352.380121836, 394.102128456, 293.917097623, 327.081737483, 336.37594909, 377.731776514, 303.252059741, 282.727580498],
#            [__2pl.latency_90__],
#            [__2pl_wait_die.latency_90__],
            [70.1103416214, 104.996280947, 142.901286779, 179.332868814, 503.382282442, 301.361510516, 301.180315589, 785.738913226, 1031.19679211, 99999.9, 2238.09791567, 2326.03947532, 4215.78188282, 3640.78571528, 99999.9]
            ]

    latency_99_val = [
            [74.0314603503, 293.321986715, 250.362901093, 167.896076659, 238.451040019, 271.5999883, 622.077946014, 7558.95954624, 4883.57973903, 8695.99759338, 17743.0979641, 21322.5508138, 20083.2697754, 18010.2349707, 16669.3653463],
            [176.668425597, 261.725192468, 817.976219383, 255.261460346, 313.43408534, 1251.84937666, 973.864620346, 431.342364164, 508.001220622, 395.653170432, 679.197415973, 423.927140875, 663.902844081, 397.821271779, 346.38654774],
#j            [__2pl.latency_99__],
#j            [__2pl_wait_die.latency_99__],
            [83.0180169398, 116.611710602, 162.582365271, 229.287306394, 738.091410184, 613.53254751, 391.645642243, 1115.12439608, 1650.02409259, 99999.9, 3043.53813551, 3204.83022808, 5876.13213245, 4769.81720449, 99999.9]
            ]

    latency_999_val = [
            [76.2593582805, 313.781302797, 265.807679838, 171.84028406, 244.935880094, 283.167662483, 653.601931391, 7829.02703044, 5114.29451569, 8914.37959251, 17958.2211447, 21461.6004003, 20258.166191, 18253.6860202, 16944.4733561],
            [179.288449032, 267.635288113, 884.738506262, 258.826468482, 320.167400136, 1317.02584277, 1022.46040196, 445.237000041, 526.076735225, 425.377216524, 728.266952874, 438.119571498, 724.431586959, 425.169208948, 360.924001721],
#            [__2pl.latency_999__],
#            [__2pl_wait_die.latency_999__],
            [86.6821565597, 118.865268616, 165.759763874, 237.060543539, 771.200374883, 654.680494194, 412.2359927, 1178.858958, 1771.86946846, 99999.9, 3189.67344143, 3348.84861725, 6089.60631299, 4960.1417824, 99999.9]
            ]

#    n_try_50_val = [
#            [__occ.n_try_50__],
#            [__deptran.n_try_50__],
#            [__2pl.n_try_50__],
#            [__2pl_wait_die.n_try_50__],
#            [__2pl_wound_die.n_try_50__]
#            ]
#
#    n_try_90_val = [
#            [__occ.n_try_90__],
#            [__deptran.n_try_90__],
#            [__2pl.n_try_90__],
#            [__2pl_wait_die.n_try_90__],
#            [__2pl_wound_die.n_try_90__]
#            ]
#
#    n_try_99_val = [
#            [__occ.n_try_99__],
#            [__deptran.n_try_99__],
#            [__2pl.n_try_99__],
#            [__2pl_wait_die.n_try_99__],
#            [__2pl_wound_die.n_try_99__]
#            ]
#
#    n_try_999_val = [
#            [__occ.n_try_999__],
#            [__deptran.n_try_999__],
#            [__2pl.n_try_999__],
#            [__2pl_wait_die.n_try_999__],
#            [__2pl_wound_die.n_try_999__]
#            ]

    att_latency_50_val = [
            [27.4291912792, 89.5829331342, 91.6915748313, 96.1079506108, 120.441925671, 122.749556542, 108.311481736, 111.406221182, 110.128803649, 102.702845295, 102.887415344, 104.006985674, 104.803210275, 103.584115991, 103.646391981],
            [132.587623629, 169.476017879, 229.608987188, 182.349432501, 197.927289515, 292.019928727, 234.359351666, 226.176796917, 209.639963792, 191.392200416, 178.728471516, 207.247044941, 182.82982405, 194.744079096, 188.132724531],
            #[__2pl.att_latency_50__],
            #[__2pl_wait_die.att_latency_50__],
            [57.3206229374, 79.7462301995, 97.7949562891, 103.950951507, 200.094686757, 150.363612947, 154.474591703, 274.666841219, 260.998220416, 99999.9, 659.337189581, 393.208196767, 492.747884816, 572.589237627, 99999.9]
            ]

    att_latency_90_val = [
            [45.2240580363, 161.511301876, 167.127373838, 137.658752859, 190.998069498, 181.727679993, 147.615147329, 167.397842582, 161.709162893, 148.076190393, 146.791869014, 148.420675177, 146.66883852, 140.239800617, 147.292542533],
            [160.24921217, 229.46294124, 426.450669627, 232.623987559, 273.98705342, 779.449122831, 595.466049232, 352.381833728, 394.103821626, 293.918819452, 327.083480589, 336.377720346, 377.733569081, 303.253884572, 282.729406699],
            #[__2pl.att_latency_90__],
            #[__2pl_wait_die.att_latency_90__],
            [70.0284070467, 104.732066715, 142.65086699, 179.077230566, 501.674768715, 298.359093995, 299.527459634, 759.835682639, 797.777060286, 99999.9, 1448.0889488, 1147.26495986, 1920.44354776, 1721.84329696, 99999.9]
            ]

    att_latency_99_val = [
            [54.7135321417, 281.138300955, 234.008328266, 160.038590905, 221.428775254, 208.532411485, 168.808377475, 214.883529459, 192.203918868, 176.723051718, 181.781344105, 179.484602679, 173.359366842, 166.451634401, 177.814446669],
            [176.670082191, 261.726844227, 817.977856293, 255.263091643, 313.435725535, 1251.85104868, 973.866272941, 431.344071293, 508.002918256, 395.654890083, 679.199171649, 423.928908199, 663.904635749, 397.823094784, 346.388368675],
            #[__2pl.att_latency_99__],
            #[__2pl_wait_die.att_latency_99__],
            [82.9296008952, 116.320810207, 162.248681918, 228.950912611, 735.046079064, 607.060238281, 370.199953372, 947.444623122, 1132.78475237, 99999.9, 1708.97727125, 1637.40076123, 2479.09950731, 2117.76615236, 99999.9]
            ]

    att_latency_999_val = [
            [56.9630678506, 300.862693158, 249.580309319, 163.289681827, 226.582464191, 212.819668675, 172.777141443, 241.640662898, 199.116872976, 190.985212423, 200.01278925, 201.065480907, 186.928859183, 175.949569696, 189.161000289],
            [179.290105552, 267.636939416, 884.740144773, 258.828099594, 320.169040264, 1317.02751428, 1022.46205459, 445.238706682, 526.078432613, 425.378935832, 728.268708, 438.12133837, 724.433378161, 425.171031579, 360.925822609],
            #[__2pl.att_latency_999__],
            #[__2pl_wait_die.att_latency_999__],
            [86.5906664092, 118.571286459, 165.422668457, 236.71575083, 767.444465704, 647.577944034, 381.624940298, 973.70200486, 1185.89796296, 99999.9, 1745.99547163, 1703.82735279, 2546.01631614, 2162.16675551, 99999.9]
            ]

    latency_min_val = [
            [47.4577636719, 50.0480957031, 15.4353027344, 49.0900878906, 54.8293457031, 58.6489257812, 59.6274414062, 79.9956054688, 85.1459960938, 75.9401855469, 80.8698730469, 89.4790039062, 98.0419921875, 98.814453125, 96.7299804688],
            [35.0065917969, 66.7475585938, 83.1440429688, 83.71484375, 58.9724121094, 57.6965332031, 42.306640625, 42.3239746094, 40.8754882812, 49.015625, 40.84765625, 58.416015625, 32.0966796875, 59.2028808594, 62.3879394531],
#            #[__2pl.min_latency__],
#            #[__2pl_wait_die.min_latency__],
            [20.1674804688, 49.9763183594, 32.0090332031, 40.8190917969, 58.1799316406, 44.0356445312, 33.7131347656, 16.9030761719, 19.6647949219, 99999.9, 19.6765136719, 17.5241699219, 20.0983886719, 19.6359863281, 99999.9]
            ]

    latency_max_val = [
            [342.447509766, 2817.75732422, 3007.37792969, 871.455322266, 1677.25341797, 3567.76489258, 8136.55786133, 40042.9382324, 35899.5095215, 33740.6047363, 42567.1938477, 42194.5141602, 44095.7490234, 45704.6489258, 46038.6970215],
            [559.556640625, 934.183837891, 12150.0979004, 723.686035156, 1517.90454102, 15542.2231445, 7910.09106445, 7730.46411133, 3251.5480957, 9651.60375977, 11851.5444336, 14969.4553223, 24858.590332, 12821.4458008, 25135.8588867],
#            #[__2pl.max_latency__],
#            #[__2pl_wait_die.max_latency__],
            [558.331298828, 451.416259766, 620.954101562, 1250.9855957, 4592.61474609, 5885.12744141, 8385.82177734, 13160.6330566, 17701.2167969, 99999.9, 26670.6582031, 26729.1379395, 31405.0119629, 35173.1484375, 99999.9]
            ]

    attempts_val = [
            [1476.0/25.0909756271, 681.0/25.1137214456, 1454.0/25.1563909469, 2764.0/25.235897739, 2650.0/25.2539610591, 6243.0/25.5050690239, 18992.0/25.8447678, 23061.0/26.0132086333, 30334.0/21.3427372694, 38264.0/21.4527207925, 47469.0/21.6324404305, 57138.0/22.2313674424, 69016.0/22.6066574361, 83888.0/22.9813165241, 90497.0/23.313057474],
            [471.0/25.0813150856, 729.0/25.1071727777, 486.0/25.1358618934, 1626.0/25.195948549, 1789.0/25.2207597606, 1468.0/25.3860336309, 3119.0/25.8021272342, 9702.0/26.2858050397, 9126.0/21.5003614209, 11954.0/21.6417009948, 11425.0/21.967948733, 20400.0/22.6988634647, 18480.0/22.903269602, 27680.0/23.5774273201, 34508.0/24.1066680962],
#            #[__2pl.attempts__],
#            #[__2pl_wait_die.attempts__],
            [929.0/25.0864869036, 1596.0/25.1330711304, 1958.0/25.1702012511, 2055.0/25.2172051293, 921.0/25.2135173132, 2399.0/25.4476478492, 8069.0/25.9934554474, 5466.0/26.1364782594, 5692.0/26.3880037088, 0.0/21.2532056459, 5960.0/21.5506929502, 8140.0/21.8519147391, 5104.0/22.1870099052, 8084.0/22.5753157161, 0.0/22.3723141185]
            ]

    graph_size_val = [
            [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
            ]

    n_ask_val = [
            [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
            ]

    scc_val = [
            [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
            ]

    throughput_figname =            "fig/kodiak/scale_10coos_tpcc_mix_10_log_ct_tp.pdf"
    tpcc_ct_cpu_figname =           "fig/kodiak/scale_10coos_tpcc_mix_10_log_ct_cpu.pdf"

    figure.tpcc_sc_tp(throughput_val, throughput_figname);
    figure.tpcc_sc_cpu(cpu, tpcc_ct_cpu_figname);

#    print("Hello")
